<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Positionnement fixe</title>

<link rel="stylesheet" href="../_local/codemirror.css">
<link rel="stylesheet" href="../_core/def.css">

<script src="../_local/codemirror_pour_html.js"></script>
<script src="../_local/test.js"></script>
<script>
	if (top.FP) {
		document.addEventListener('DOMContentLoaded', function(){top.FP.initPage();}, false);
	} else {
		location.replace('../index.html?x=' + encodeURI(location.href));
	}
</script>
</head>

<body>
	<div id="MENU-top"></div>
	<nav id="MENU-tuto"></nav>

	<div id="PAGE-tuto">
		<header></header>

		<ul id="MENU-page"></ul>


		<!-- ################################################################################################## -->
		<h3>Principes</h3>
		<section>

			<p class="fp-p-raz fp-t-center">
				<code><strong>position: <span class="fp-rouge">fixed</span>;
				</strong></code>
			</p>

			<p>
				Le positionnement fixe est une variante du positionnement absolu :
				le conteneur de la boîte positionnée est le bloc conteneur intiale,
				à savoir la zone d'affichage de la fenêtre du navigateur (<i>viewport</i>).
				<br>
				On affecte à la propriété <a
					onclick="top.FP.Voir.showPageTech('css_proprietes', 'position')">position</a>
				la valeur <code>fixed</code>.
			</p>

			<p>
				Une boîte en positionnement fixe est totalement retirée du flux
				normal : l'emplacement de l'élément dans le code <abbr
					title="HyperText Markup Language">HTML</abbr> n'a absolument aucune
				importance.
				<br>
				Elle est ensuite positionnée à l'intérieur de la zone d'affichage de
				la fenêtre du navigateur suivant les valeurs de ses propriétés <a
					onclick="top.FP.Voir.showPageTech('css_proprietes', 'top')">top</a>,
				<a onclick="top.FP.Voir.showPageTech('css_proprietes', 'left')">left</a>,
				<a onclick="top.FP.Voir.showPageTech('css_proprietes', 'bottom')">bottom</a>
				et <a onclick="top.FP.Voir.showPageTech('css_proprietes', 'right')">right</a>.
				<br>
				Le positionnement est calculé par rapport à la bordure de la
				fenêtre, soit la zone de contenu plus la marge interne.
			</p>


			<p>Le mode de calcul et les possibilités sont les mêmes que pour
				le positionnement absolu vu précédemment.</p>

			<p>
				Comme la boîte est positionnée par rapport à la zone d'affichage de
				la fenêtre du navigateur, <strong>elle reste toujours
					visible et ne bouge pas</strong> quand on fait défiler le contenu de la
				page.
			</p>

			<p class="fp-p-raz">Dans les exemples suivants, le contenu de la
				page est volontairement allongé pour que l'on puisse faire un
				défilement vertical.</p>

			<form action="" method="post" class="TEST-form-groupe-top">
				<div class="TEST-titre fp-pointer" onClick="top.FP.Voir.swapCodeTest(this)">
					<strong>Exemple</strong> : positionnement fixe
				</div>
				<textarea name="txtCode" class="TEST-textarea" data-groupe="HC"
					data-partie="HTML">&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
	&lt;head&gt;
		&lt;meta charset="UTF-8"&gt;
		&lt;title&gt;Les CSS&lt;/title&gt;
		&lt;link href="styles.css" rel="stylesheet"&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;h3&gt;L'Arrière des Etoiles&lt;/h3&gt;
		&lt;p&gt;Les CSS sont l'arme secrète de la Force !&lt;/p&gt;
		&lt;p id="envoie"&gt;Tu veux savoir les utiliser ?  
			Envoie CSS au 7 1718.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/yoda.jpg"&gt; 
			Le côté obscur des CSS redouter tu dois.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/darkv.jpg"&gt; 
			Les CSS ont vraiment transformé ma vie.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/gandalf.jpg"&gt;
			Bien sûr, moi aussi j'utilise les CSS !&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/yoda.jpg"&gt; 
			Le côté obscur des CSS redouter tu dois.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/darkv.jpg"&gt; 
			Les CSS ont vraiment transformé ma vie.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/gandalf.jpg"&gt;
			Bien sûr, moi aussi j'utilise les CSS !&lt;/p&gt;	
	&lt;/body&gt;
&lt;/html&gt;</textarea>
			</form>

			<form action="" method="post" class="TEST-form-groupe-bottom">
				<a onclick="top.FP.Voir.showPLUS('css02/resume_selecteur.html')"
					title="Résumé des sélecteurs" class="TEST-plus-selecteur"></a>
				<div class="TEST-titre fp-no-radius fp-pointer" onClick="top.FP.Voir.swapCodeTest(this)">
					<strong>Fichier CSS</strong> : styles.css
				</div>
				<textarea name="txtCode" class="TEST-textarea" data-groupe="HC"
					data-partie="CSS">
body {
	margin: 0;
	padding: 0;
}
p {
	margin: 10px;
	border: 1px solid #000;
	padding: 5px;
	background-color: azure;
}
h3 {
	position: fixed;
	top: 25px;
	right: 25px;
	padding: 5px;
	margin: 0;
	border: 1px solid;
	background: orange;
}</textarea>
			</form>
		</section>


		<!-- ################################################################################################## -->
		<h3>Entête toujours visible</h3>
		<section>
			<p class="fp-bot0">Si on veut réaliser une mise en page avec un
				en-tête qui reste toujours visible (comme ce tutoriel par exemple),
				il faut procéder de la façon suivante :</p>
			<ul>
				<li>fixer la largeur de la boîte à la largeur de la fenêtre
					avec <code>left: 0;</code> et <code>right: 0;</code>
				</li>
				<li>mettre une marge supérieur à l'élément <a
					onclick="top.FP.Voir.showPageTech('elements', 'body')">body</a>
					plus grande que la hauteur de la boîte pour le contenu du début de
					la page soit visible.
				</li>
			</ul>

			<form action="" method="post" class="TEST-form-groupe-top">
				<div class="TEST-titre fp-pointer" onClick="top.FP.Voir.swapCodeTest(this)">
					<strong>Exemple</strong> : en-tête fixe
				</div>
				<textarea name="txtCode" class="TEST-textarea" data-groupe="HC"
					data-partie="HTML">&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
	&lt;head&gt;
		&lt;meta charset="UTF-8"&gt;
		&lt;title&gt;Les CSS&lt;/title&gt;
		&lt;link href="styles.css" rel="stylesheet"&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;h3&gt;L'Arrière des Etoiles&lt;/h3&gt;
		&lt;p&gt;Les CSS sont l'arme secrète de la Force !&lt;/p&gt;
		&lt;p id="envoie"&gt;Tu veux savoir les utiliser ?  
			Envoie CSS au 7 1718.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/yoda.jpg"&gt; 
			Le côté obscur des CSS redouter tu dois.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/darkv.jpg"&gt; 
			Les CSS ont vraiment transformé ma vie.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/gandalf.jpg"&gt;
			Bien sûr, moi aussi j'utilise les CSS !&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/yoda.jpg"&gt; 
			Le côté obscur des CSS redouter tu dois.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/darkv.jpg"&gt; 
			Les CSS ont vraiment transformé ma vie.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/gandalf.jpg"&gt;
			Bien sûr, moi aussi j'utilise les CSS !&lt;/p&gt;	
	&lt;/body&gt;
&lt;/html&gt;</textarea>
			</form>

			<form action="" method="post" class="TEST-form-groupe-bottom">
				<a onclick="top.FP.Voir.showPLUS('css02/resume_selecteur.html')"
					title="Résumé des sélecteurs" class="TEST-plus-selecteur"></a>
				<div class="TEST-titre fp-no-radius fp-pointer" onClick="top.FP.Voir.swapCodeTest(this)">
					<strong>Fichier CSS</strong> : styles.css
				</div>
				<textarea name="txtCode" class="TEST-textarea" data-groupe="HC"
					data-partie="CSS">
body {
	margin: 0;
	margin-top: 50px;	/* une marge pour que le haut 
							de la page soit visible */
	padding: 0;
}
p {
	margin: 10px;
	border: 1px solid #000;
	padding: 5px;
	background-color: azure;
}
h3 {
	position: fixed;
	top: 0;		/* en-tête collé en haut */
	left: 0;	/* toute la largeur de la fenêtre */
	right: 0;	/* toute la largeur de la fenêtre */
	padding: 5px;
	margin: 0;
	border: 1px solid;
	background: orange;
}</textarea>
			</form>

			<p class="fp-p-raz">
				La réalisation d'un pied de page toujours visible peut être fait de
				la même façon, à la différence que c'est la propriété <a
					onclick="top.FP.Voir.showPageTech('css_proprietes', 'bottom')">bottom</a>
				qui sera utilisée à la place de <a
					onclick="top.FP.Voir.showPageTech('css_proprietes', 'top')">top</a>
				et que c'est la marge inférieur de <a
					onclick="top.FP.Voir.showPageTech('elements', 'body')">body</a> qui
				sera définie pour la fin du contenu de la page soit visible.
			</p>
		</section>

		<!-- ################################################################################################## -->
		<h3>Boîte de dialogue modale</h3>
		<section>

			<p>
				Un effet que l'on trouve souvent est l'affichage d'un message ou
				d'une boîte de dialogue avec un filtre qui recouvre toute la fenêtre
				et qui empêche toute interaction tant que la boîte de dialogue n'est
				pas fermée. On appelle celà une boîte de dialogue (ou une fenêtre)
				modale.
				<br>
				L'exemple suivant montre comment peut être réalisé la chose. On
				commencera par le montage CSS, sans ajouter d'interactivité.
			</p>

			<form action="" method="post" class="TEST-form-groupe-top">
				<div class="TEST-titre fp-pointer" onClick="top.FP.Voir.swapCodeTest(this)">
					<strong>Exemple</strong> : boîte de message modale
				</div>
				<textarea name="txtCode" class="TEST-textarea" data-groupe="HC"
					data-partie="HTML">&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
	&lt;head&gt;
		&lt;meta charset="UTF-8"&gt;
		&lt;title&gt;Les CSS&lt;/title&gt;
		&lt;link href="styles.css" rel="stylesheet"&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;div id="cache"&gt;
			&lt;div id="message"&gt;Cliquez ici pour fermer&lt;/div&gt;
		&lt;/div&gt;		
		
		&lt;h3&gt;L'Arrière des Etoiles&lt;/h3&gt;
		
		&lt;p id="cliquer"&gt;Cliquez ici pour afficher la boîte de
			dialogue modale.&lt;/p&gt;

		&lt;p&gt;Les CSS sont l'arme secrète de la Force !&lt;/p&gt;
		&lt;p id="envoie"&gt;Tu veux savoir les utiliser ?  
			Envoie CSS au 7 1718.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/yoda.jpg"&gt; 
			Le côté obscur des CSS redouter tu dois.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/darkv.jpg"&gt; 
			Les CSS ont vraiment transformé ma vie.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/gandalf.jpg"&gt;
			Bien sûr, moi aussi j'utilise les CSS !&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/yoda.jpg"&gt; 
			Le côté obscur des CSS redouter tu dois.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/darkv.jpg"&gt; 
			Les CSS ont vraiment transformé ma vie.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/gandalf.jpg"&gt;
			Bien sûr, moi aussi j'utilise les CSS !&lt;/p&gt;	
	&lt;/body&gt;
&lt;/html&gt;</textarea>
			</form>

			<form action="" method="post" class="TEST-form-groupe-bottom">
				<a onclick="top.FP.Voir.showPLUS('css02/resume_selecteur.html')"
					title="Résumé des sélecteurs" class="TEST-plus-selecteur"></a>
				<div class="TEST-titre fp-no-radius fp-pointer" onClick="top.FP.Voir.swapCodeTest(this)">
					<strong>Fichier CSS</strong> : styles.css
				</div>
				<textarea name="txtCode" class="TEST-textarea" data-groupe="HC"
					data-partie="CSS">
body {
	margin: 0;
	padding: 0;
}
p {
	margin: 10px;
	border: 1px solid #000;
	padding: 5px;
	background-color: azure;
}
#cache {
	position: fixed;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	background: rgba(0, 0, 0, 0.4);
	z-index: 1;
}
#message {
	position: fixed;
	width: 200px;
	height: 100px;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	margin: auto;
	z-index: 2;
	background: orange;
}</textarea>
			</form>

			<p>
				<strong>Explications</strong>
			</p>

			<p>
				La structure <abbr title="HyperText Markup Language">HTML</abbr> est
				très simple : 2 éléments <a
					onclick="top.FP.Voir.showPageTech('elements', 'div')">div</a>
				imbriqués. Le premier recouvrira toute la fenêtre et le second
				contient le message.
			</p>

			<pre data-code="HTML">
&lt;div id="cache"&gt;
	&lt;div id="message"&gt;Cliquez ici pour fermer&lt;/div&gt;
&lt;/div&gt;	
</pre>

			<div class="fp-puce">
				<p>L'élément "cache" est stylé de la façon suivante :</p>

				<pre data-code="CSS">
#cache {
	position: fixed;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	background: rgba(0, 0, 0, 0.4);
	z-index: 1;
}</pre>

				<p>
					La boîte est en position fixe et les valeurs de <a
						onclick="top.FP.Voir.showPageTech('css_proprietes', 'top')">top</a>,
					<a onclick="top.FP.Voir.showPageTech('css_proprietes', 'left')">left</a>,
					<a onclick="top.FP.Voir.showPageTech('css_proprietes', 'bottom')">bottom</a>
					et <a onclick="top.FP.Voir.showPageTech('css_proprietes', 'right')">right</a>
					sont 0. Ainsi la boîte cachera toute la fenêtre du navigateur, même
					si on scroll.
					<br>
					Pour laisser voir le contenu sous la boîte, on lui affecte une
					couleur de fond noir avec une transparence :
					<br>
					<code>background: rgba(0, 0, 0, 0.4);</code>
					<br>
					Finalement on lui donne un <a
						onclick="top.FP.Voir.showPageTech('css_proprietes', 'z-index')">z-index</a>
					de 1 pour que la boîte viennent bien au dessus de la page et
					qu'ainsi elle empêche de cliquer sur les éléments de la page
					(principe d'une fenêtre modale).
				</p>
			</div>

			<div class="fp-puce">
				<p>L'élément "message" est stylé de la façon suivante :</p>


				<pre data-code="CSS">
#message {
	position: fixed;
	width: 200px;
	height: 100px;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	margin: auto;
	z-index: 2;
	background: orange;
}</pre>

				<p>
					Il est lui aussi en position fixe pour qu'il reste toujours au
					milieu de la page même si on scroll.
					<br>
					Il y a une astuce pour que l'élément soit affiché au milieu de la
					page. On donne les dimensions de sa zone d'affichage (<a
						onclick="top.FP.Voir.showPageTech('css_proprietes', 'height')">height</a>
					et <a onclick="top.FP.Voir.showPageTech('css_proprietes', 'width')">width</a>
					et on donne les dimensions de la boîte entière (ie contenu + marge
					intérieure + bord + marge extérieure) avec <a
						onclick="top.FP.Voir.showPageTech('css_proprietes', 'top')">top</a>,
					<a onclick="top.FP.Voir.showPageTech('css_proprietes', 'left')">left</a>,
					<a onclick="top.FP.Voir.showPageTech('css_proprietes', 'bottom')">bottom</a>
					et <a onclick="top.FP.Voir.showPageTech('css_proprietes', 'right')">right</a>.
					Ensuite, en fixant les dimensions des marges externes à <code>auto</code>,
					le navigateur va les calculer automatiquement en les répartissant
					également pour la droite et la gauche et pour le haut et le bas. On
					obtient ainsi une boîte fixe toujours centrée dans la fenêtre
					d'affichage.
				</p>
			</div>

			<div class="fp-puce">
				<p>
					Pour ajouter de l'interactivité, on utilise JavaScript qui va
					exécuter des fonctions quand on clique sur le paragraphe qui
					affiche la boîte modale et quand on clique sur la boîte de message
					pour la fermer.
					<br>
					L'affichage ou le masquage se fait très simplement par le
					changement de la valeur de la propriété <a
						onclick="top.FP.Voir.showPageTech('css_proprietes', 'display')">display</a>
					de la boîte "cache". On ajoute dans les déclarations de style de
					cette boîte <code>display: none;</code> et ainsi la boîte ne sera
					pas affichée. Avec JavaScript, on change la caleur de cette
					propriété pour <code>block</code> quand on veut l'afficher et on
					revient à la valeur <code>none</code> quand on veut la masquer.
				</p>

				<p>L'exemple complet avec l'interactivité ...</p>
			</div>

			<form action="" method="post" class="TEST-form-groupe-top">
				<div class="TEST-titre fp-pointer" onClick="top.FP.Voir.swapCodeTest(this)">
					<strong>Exemple</strong> : boîte de message modale
				</div>
				<textarea name="txtCode" class="TEST-textarea" data-groupe="HC"
					data-partie="HTML">&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
	&lt;head&gt;
		&lt;meta charset="UTF-8"&gt;
		&lt;title&gt;Les CSS&lt;/title&gt;
		&lt;link href="styles.css" rel="stylesheet"&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;div id="cache"&gt;
			&lt;div id="message"&gt;Cliquez ici pour fermer&lt;/div&gt;
		&lt;/div&gt;		
		
		&lt;h3&gt;L'Arrière des Etoiles&lt;/h3&gt;
		
		&lt;p id="cliquer"&gt;Cliquez ici pour afficher la boîte de
			dialogue modale.&lt;/p&gt;

		&lt;p&gt;Les CSS sont l'arme secrète de la Force !&lt;/p&gt;
		&lt;p id="envoie"&gt;Tu veux savoir les utiliser ?  
			Envoie CSS au 7 1718.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/yoda.jpg"&gt; 
			Le côté obscur des CSS redouter tu dois.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/darkv.jpg"&gt; 
			Les CSS ont vraiment transformé ma vie.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/gandalf.jpg"&gt;
			Bien sûr, moi aussi j'utilise les CSS !&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/yoda.jpg"&gt; 
			Le côté obscur des CSS redouter tu dois.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/darkv.jpg"&gt; 
			Les CSS ont vraiment transformé ma vie.&lt;/p&gt;
		&lt;p&gt;&lt;img src="../exemples/img/gandalf.jpg"&gt;
			Bien sûr, moi aussi j'utilise les CSS !&lt;/p&gt;	
		
		&lt;script&gt;
(function() {
	var C = document.getElementById('cache');
	document.getElementById('message').addEventListener(
					'click',
					function() {
						C.style.display = 'none';
					}, false);
	document.getElementById('cliquer').addEventListener(
					'click',
					function() {
						C.style.display = 'block';
					}, false);
})();
		&lt;/script&gt;
	&lt;/body&gt;
&lt;/html&gt;</textarea>
			</form>

			<form action="" method="post" class="TEST-form-groupe-bottom">
				<a onclick="top.FP.Voir.showPLUS('css02/resume_selecteur.html')"
					title="Résumé des sélecteurs" class="TEST-plus-selecteur"></a>
				<div class="TEST-titre fp-no-radius fp-pointer" onClick="top.FP.Voir.swapCodeTest(this)">
					<strong>Fichier CSS</strong> : styles.css
				</div>
				<textarea name="txtCode" class="TEST-textarea" data-groupe="HC"
					data-partie="CSS">
body {
	margin: 0;
	padding: 0;
}
p {
	margin: 10px;
	border: 1px solid #000;
	padding: 5px;
	background-color: azure;
}
#cache {
	display: none;
	position: fixed;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	background: rgba(0, 0, 0, 0.4);
	z-index: 1;
}
#message {
	position: fixed;
	width: 200px;
	height: 100px;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	margin: auto;
	z-index: 2;
	background: orange;
}</textarea>
			</form>

		</section>

	</div>
	<footer></footer>
</body>
</html>
